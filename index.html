<!DOCTYPE html>
<html>
  <head>
    <title>NFT Ownership Checker</title>
  </head>
  <body>
    <h1>NFT Ownership Checker</h1>
    <p>Connect your wallet to check if you own a certain NFT.</p>
    <button id="connect-button">Connect Wallet</button>
    <p id="result"></p>

    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
    <script src="./nftContractABI.json"></script>
    <script>
      const nftContractAddress = '0xE29F8038d1A3445Ab22AD1373c65eC0a6E1161a4'; // Replace with the NFT contract address
      const walletAddressElement = document.getElementById('wallet-address');

      // Connect to the Ethereum network using Infura endpoint
      const web3 = new Web3('https://goerli.infura.io/v3/3376a33c419a4d249d680fa54ff8b6bf');

      // Load the NFT contract ABI
      const nftContractABI = window.nftContractABI;

      // Create a contract instance
      const nftContract = new web3.eth.Contract(nftContractABI, nftContractAddress);

      // Connect to the wallet
      const connectWallet = async () => {
        if (window.ethereum) {
          try {
            await window.ethereum.request({ method: 'eth_requestAccounts' });
            const accounts = await web3.eth.getAccounts();
            checkNFTOwnership(accounts[0]);
          } catch (error) {
            console.error(error);
          }
        } else {
          console.error('No wallet found');
        }
      };

      // Call the ownerOf function to get the owner of the NFT
      const checkNFTOwnership = (walletAddress) => {
        nftContract.methods.balanceOf(walletAddress).call((error, result) => {
          if (error) {
            console.error(error);
          } else {
            if (parseInt(result) > 0) {
              console.log('The wallet owns the NFT.');
              document.getElementById('result').innerHTML = 'Good! Your wallet owns the NFT.';
            } else {
              console.log('The wallet does not own the NFT.');
              document.getElementById('result').innerHTML = 'Sorry, your wallet does not own the NFT.';
            }
          }
        });
      };

      // Add event listener to connect button
      const connectButton = document.getElementById('connect-button');
      connectButton.addEventListener('click', connectWallet);
    </script>
  </body>
</html>
